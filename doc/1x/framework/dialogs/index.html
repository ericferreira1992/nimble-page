<!DOCTYPE html><html lang="en" style=""><head><base href="/nimble-page/"><meta charset="utf-8"><title>Dialogs / Document - Nimble</title><meta name="description" content="Nimble framework page and documentation"><meta name="keywords" content="nimble, nb, framework"><meta property="og:url" content="https://ericferreira1992.github.io/nimble-page"><meta property="og:image" content="https://ericferreira1992.github.io/nimble-page/assets/img/nimble_icon.png"><meta property="og:type" content="webiste"><meta property="og:title" content="Dialogs / Document - Nimble"><meta property="og:siteName" content="Dialogs / Document - Nimble"><meta property="og:description" content="Nimble framework page and documentation"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1"><link rel="icon" type="image/x-icon" href="favicon.ico"><link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"><link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap" rel="stylesheet"><link rel="manifest" href="manifest.json"><link href="main.bundle.c4357dc902213c9a0206.css" rel="stylesheet"><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-177358955-1"></script><link rel="stylesheet" type="text/css" href="17.bundle.c4357dc902213c9a0206.css"><script charset="utf-8" src="17.bundle.93b21ddee454fe13274f.js"></script><script charset="utf-8" src="15.bundle.d7c846ca65cdb97539d7.js"></script><link rel="stylesheet" type="text/css" href="19.bundle.c4357dc902213c9a0206.css"><script charset="utf-8" src="19.bundle.41e5cd7342a4d8b171bc.js"></script><link rel="stylesheet" type="text/css" href="0.bundle.c4357dc902213c9a0206.css"><script charset="utf-8" src="0.bundle.7d383ee1f604291428db.js"></script></head><body style=""><nimble-root style="visibility: hidden;"><nimble-page><div class="root-page">  <nimble-router class="root-content fadeIn"><nimble-page><div class="document-page"> <div class="document-page-left"> <div class="document-page-left-header"> <div class="home-header-menu-close"></div> <div class="header-logo"> <a class="d-block" href="/"> <img src="assets/img/logo_white.png"> </a> </div> </div> <div class="document-page-left-menu"> <ul> <li> <a href="/doc/1x/essentials"> Essenciais </a>  <ul> <li> <a href="/doc/1x/essentials/introduction"> Introdução </a>   </li><li> <a href="/doc/1x/essentials/get-started"> Começar a usar </a>   </li><li> <a href="/doc/1x/essentials/structure"> Estrutura do framework </a>   </li> </ul> </li><li> <a href="/doc/1x/framework"> Framework </a>  <ul> <li> <a href="/doc/1x/framework/routes"> Rotas </a>   </li><li> <a href="/doc/1x/framework/pages"> Páginas </a>   </li><li class="active"> <a href="/doc/1x/framework/dialogs"> Diálogs (Modal) </a>   </li><li>  <span> Serviços (Services) </span>  </li><li>  <span> Diretivas </span>  </li><li> <a href="/doc/1x/framework/reactive-forms"> Formulários reativos </a>   </li> </ul> </li><li> <a href="/doc/1x/cli"> CLI (Command Line Interface) </a>  <ul> <li> <a href="/doc/1x/cli/overview"> Visão geral </a>   </li><li> <a href="/doc/1x/cli/commands"> Comandos interativos </a>   </li><li> <a href="/doc/1x/cli/args"> Comandos via argumentos </a>   </li> </ul> </li> </ul> </div> </div> <div class="document-page-left-menu-backdrop"></div> <div class="document-page-right"> <div class="document-page-right-header"> <div class="d-table-cell align-middle"> <div class="document-page-toggle-menu"> <span></span> </div> <div class="header-logo"> <a href="/"></a> </div> <div class="version-select"> <form> <label class="mr-1 mb-0">Version: </label> <select> <option value="1x"> 1.3.6 última </option> </select> </form> </div> </div> <div class="d-table-cell align-middle text-right"> <div class="document-page-search"> <i class="material-icons" title="Procurar" role="button"> search </i> </div> <div class="document-page-lang"> <span> <img src="assets/img/langs/pt-BR.png" alt="pt-BR"> </span>  </div> </div> </div> <div class="document-page-right-content"> <nimble-router class="document-page-content-inner"><nimble-page><div class="framework-1x-dialogs-page"> <h1> Diálogs (Modal) </h1> <p class="text-justify mt-2"> A estrutura de um diálogo (modal) é muito parecido com a de uma página, por contem &lt;i&gt;template&lt;/i&gt;, estilização e script.  </p> <p class="text-justify mt-2"> Se você tem dúvidas de como criar um diálogo (modal) para seu projeto, clique  <a href="/doc/1x/cli/commands#generate-dialog">aqui</a>. </p> <section class="mb-1"> <h4> <a name="structure" href="/doc/1x/framework/dialogs#structure"> A estrutura </a> </h4> <p class="mb-3">Todo diálogo possui uma estrutura que se divide em três partes, elas são <strong><i>template</i></strong>, <strong>estilo</strong> e <strong>código</strong>, respectivamente arquivos <strong>.scss</strong>, <strong>.html</strong> e <strong>.ts</strong>, todos os arquivos que compoem o diálogo possuem o sufixo <strong>dialog</strong>. Veja com detalhe as responsabilidades de cada um:</p> <p class="mt-1">❯ <code>example.dialog.html</code> é responsável por conter a estrutura em HTML, que pode se comunicar diretamente com o script.</p> <pre class=" language-html">            <code class=" language-html">
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>example-dialog<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>Exampe<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    example-dialog works!

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dialogRef.close()<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Fechar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            </code>
        </pre> <p class="mt-2">❯ <code>example.dialog.scss</code> é responsável por dar vida e cor a estrutura HTML.</p> <pre class=" language-css">            <code class=" language-css">
<span class="token selector">.example-dialog</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
            </code>
        </pre> <p class="mt-2">❯ <code>example.dialog.ts</code> é aonde fica o script, responsável por toda a parte programável do diálogo, também é onde se torna possível criar regras para controlar, em tempo real, a estrutura do diálogo.</p> <pre class=" language-javascript">            <code class=" language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> Dialog<span class="token punctuation">,</span> PrepareDialog<span class="token punctuation">,</span> <span class="token constant">DIALOG_REF</span><span class="token punctuation">,</span> DialogRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@nimble-ts/core/dialog'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Inject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@nimble-ts/core/inject'</span><span class="token punctuation">;</span>

@<span class="token function">PrepareDialog</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    template<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./example.dialog.html'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    style<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./example.dialog.scss'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ExampleDialog</span> <span class="token keyword">extends</span> <span class="token class-name">Dialog</span> <span class="token punctuation">{</span>

    <span class="token function">constructor</span><span class="token punctuation">(</span>
        <span class="token parameter">@<span class="token function">Inject</span><span class="token punctuation">(</span><span class="token constant">DIALOG_REF</span><span class="token punctuation">)</span> <span class="token keyword">public</span> dialogRef<span class="token operator">:</span> DialogRef<span class="token operator">&lt;</span>ExampleDialog<span class="token operator">&gt;</span></span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">onOpen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token function">onClose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
            </code>
        </pre> <h6 class="mt-2 mb-1 border-0">Veja este diálogo de exemplo aberto:</h6> <button class="btn"> <span>Abrir diálogo</span> </button> </section> <section class="mb-1"> <h4> <a name="life-clycle" href="/doc/1x/framework/dialogs#life-clycle"> O ciclo de vida </a> </h4> <p>O ciclo de vida dos diálogos são bem mais simples comparado ao das páginas, mas que também podem ser escutados através da implementação dos métodos <strong>onOpen</strong> e <strong>onClose</strong>. Veja o que significa cada método e quando são invocados:</p> <p class="mt-4"></p> <p class="mt-2">❯ <code>onOpen</code> é invocado logo após o diálogo ser aberto e renderizado na tela, isso significa que os elementos do <i>template</i> foram renderizados no DOM.</p> <p class="mt-2">❯ <code>onClose</code> é invocado quando o diálogo é fechado e os elementos são removidos do DOM.</p> <p class="mt-2"></p> </section> <section class="mb-1"> <h4> <a name="how-to-use" href="/doc/1x/framework/dialogs#how-to-use"> Como usar </a> </h4> <p>Geralmente abertos pelas páginas, os diálogos podem abertos a partir de qualquer lugar, desde que tenha acesso a dependência <code>DialogBuilder</code> injetada. Abaixo serão exibidas algumas formas de como abrir um diálogo e também como definir algumas configurações.</p> <section class="mt-5 mb-1"> <h5 class="border-0 mb-0"> Abrindo um diálogo </h5> <p>Para abrir um diálogo, a primeira coisa que precisa-se ter na página, service ou até mesmo dentro de um outro diálogo é a dependência <code>DialogBuilder</code> injetada em eu construtor, para que assim possa utilizar o método <code>open</code> para abrir o diálogo que você criou, veja o exemplo.</p> <pre class=" language-javascript">                <code class=" language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> Page<span class="token punctuation">,</span> PreparePage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@nimble-ts/core/page'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ExampleDialog <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/app/dialogs/example/example.dialog'</span><span class="token punctuation">;</span>

@<span class="token function">PreparePage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    template<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./example.page.html'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    style<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./example.page.scss'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ExamplePage</span> <span class="token keyword">extends</span> <span class="token class-name">Page</span> <span class="token punctuation">{</span>

    <span class="token function">constructor</span><span class="token punctuation">(</span>
        <span class="token parameter"><span class="token keyword">private</span> dialog<span class="token operator">:</span> DialogBuilder</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token function">openMyDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>dialog<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>ExampleDialog<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
                </code>
            </pre> </section> <section class="mt-5 mb-1"> <h5 class="border-0 mb-0"> Escutadores (listeners) </h5> <p>Mesmo que seja possível abrir o diálogo, também é possível escutar quando ele foi aberto ou quando foi fechado. Isso torna-se possível graças a instância da classe <code>DialogRef</code> que é retornada após executar o método <strong>open</strong> visto anteriormente, veja o exemplo.</p> <pre class=" language-javascript">                <code class=" language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> Page<span class="token punctuation">,</span> PreparePage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@nimble-ts/core/page'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ExampleDialog <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/app/dialogs/example/example.dialog'</span><span class="token punctuation">;</span>

@<span class="token function">PreparePage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    template<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./example.page.html'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    style<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./example.page.scss'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ExamplePage</span> <span class="token keyword">extends</span> <span class="token class-name">Page</span> <span class="token punctuation">{</span>

    <span class="token function">constructor</span><span class="token punctuation">(</span>
        <span class="token parameter"><span class="token keyword">private</span> dialog<span class="token operator">:</span> DialogBuilder</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token function">openMyDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> dialogRef <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>dialog<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>ExampleDialog<span class="token punctuation">)</span><span class="token punctuation">;</span>
        dialogRef<span class="token punctuation">.</span>onOpen<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Is opened!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dialogRef<span class="token punctuation">.</span>onClose<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Is closed!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
                </code>
            </pre> </section> <section class="mt-5 mb-1"> <h5 class="border-0 mb-0"> Enviando dados e configurações ao diálogo </h5> <p>Como visto anteriormente, é simples abrir um diálogo, mas em alguns casos é preciso enviar dados para serem utilizados nele. Além disso, também podem ser definidas algumas configurações para o diálogo ser aberto, veja o exemplo abaixo.</p> <section class="mt-4"> <h6 class="border-0 mb-0 pb-2"> 01 - Objeto de configuração </h6> <p>Antes de saber como definir as configurações de um diálogo, é importante saber que elas são baseadas na classe <code>DialogOpenConfig</code>, veja:</p> <pre class=" language-javascript">                    <code class=" language-javascript">
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">DialogOpenConfig</span> <span class="token punctuation">{</span>
    <span class="token comment">// Informação que será enviada ao diálogo</span>
    data<span class="token operator">?</span><span class="token operator">:</span> any<span class="token punctuation">;</span>

    <span class="token comment">// largura fixa do diálogo (exemplo: '100%')</span>
    width<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">;</span>

    <span class="token comment">// largura máxima do diálogo (exemplo: '500px')</span>
    maxWidth<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">;</span>

    <span class="token comment">// largura mínima do diálogo (exemplo: '250px')</span>
    minWidth<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
                    </code>
                </pre> </section> <section class="mt-4"> <h6 class="border-0 mb-0 pb-2"> 02 - Definindo dados e configurações </h6> <p>Como visto anteriormente, todos as propriedades de configuração são opcionais. Neste exemplo iremos apenas enviar uma informação usando a propriedade <strong>data</strong>, veja:</p> <pre class=" language-javascript">                    <code class=" language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> Page<span class="token punctuation">,</span> PreparePage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@nimble-ts/core/page'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ExampleDialog <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/app/dialogs/example/example.dialog'</span><span class="token punctuation">;</span>

@<span class="token function">PreparePage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    template<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./example.page.html'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    style<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./example.page.scss'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ExamplePage</span> <span class="token keyword">extends</span> <span class="token class-name">Page</span> <span class="token punctuation">{</span>

    <span class="token function">constructor</span><span class="token punctuation">(</span>
        <span class="token parameter"><span class="token keyword">private</span> dialog<span class="token operator">:</span> DialogBuilder</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token function">openMyDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> dialogRef <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>dialog<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>ExampleDialog<span class="token punctuation">,</span> <span class="token punctuation">{</span>
            data<span class="token operator">:</span> <span class="token string">'My custom data to ExampleDialog :)'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
                    </code>
                </pre> </section> <section class="mt-4"> <h6 class="border-0 mb-0 pb-2"> 03 - Recuperando a informação </h6> <p>Seguindo com o exemplo, agora dentro do diálogo, será recuperado a informação que foi enviada anteriormente pela página que a abriu. Para isso será utilizado a instância <code>dialogRef: DialogRef</code> que já está injetada no diálogo para utilizarmos, veja como é simples:</p> <pre class=" language-javascript">                    <code class=" language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> Dialog<span class="token punctuation">,</span> PrepareDialog<span class="token punctuation">,</span> <span class="token constant">DIALOG_REF</span><span class="token punctuation">,</span> DialogRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@nimble-ts/core/dialog'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Inject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@nimble-ts/core/inject'</span><span class="token punctuation">;</span>

@<span class="token function">PrepareDialog</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    template<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./example.dialog.html'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    style<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./example.dialog.scss'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ExampleDialog</span> <span class="token keyword">extends</span> <span class="token class-name">Dialog</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> myCustomData<span class="token operator">:</span> string<span class="token punctuation">;</span>

    <span class="token function">constructor</span><span class="token punctuation">(</span>
        <span class="token parameter">@<span class="token function">Inject</span><span class="token punctuation">(</span><span class="token constant">DIALOG_REF</span><span class="token punctuation">)</span> <span class="token keyword">public</span> dialogRef<span class="token operator">:</span> DialogRef<span class="token operator">&lt;</span>ExampleDialog<span class="token operator">&gt;</span></span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>myCustomData <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>dialogRef<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">onOpen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>myCustomData<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">onClose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
                    </code>
                </pre> </section> </section> <section class="mt-5 mb-1"> <h5 class="border-0 mb-0"> Fechar diálogo e retornar dados </h5> <p>Existe alguns gatilhos padrões que fazem o diálogo ser fechado, mas também torna-se possível fecha-lo via script quando quiser, utilizando a instância <code>dialogRef: DialogRef</code>, através do método <strong>close</strong>, que também permite passar uma informação como parâmetro que será retornado ao escutador <strong>onClose</strong> caso tenha sido preparado para escuta-lo, veja o exemplo:</p> <section class="mt-4 pt-1"> <h6 class="border-0 mb-0 pb-2"> 01 - Fechando e retornando dados </h6> <p></p> <pre class=" language-javascript">                    <code class=" language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> Dialog<span class="token punctuation">,</span> PrepareDialog<span class="token punctuation">,</span> <span class="token constant">DIALOG_REF</span><span class="token punctuation">,</span> DialogRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@nimble-ts/core/dialog'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Inject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@nimble-ts/core/inject'</span><span class="token punctuation">;</span>

@<span class="token function">PrepareDialog</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    template<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./example.dialog.html'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    style<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./example.dialog.scss'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ExampleDialog</span> <span class="token keyword">extends</span> <span class="token class-name">Dialog</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> myCustomData<span class="token operator">:</span> string<span class="token punctuation">;</span>

    <span class="token function">constructor</span><span class="token punctuation">(</span>
        <span class="token parameter">@<span class="token function">Inject</span><span class="token punctuation">(</span><span class="token constant">DIALOG_REF</span><span class="token punctuation">)</span> <span class="token keyword">public</span> dialogRef<span class="token operator">:</span> DialogRef<span class="token operator">&lt;</span>ExampleDialog<span class="token operator">&gt;</span></span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>dialogRef<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token string">'My custom data when closed!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">onOpen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token function">onClose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
                    </code>
                </pre> </section> <section class="mt-4"> <h6 class="border-0 mb-0 pb-2"> 02 - Recuperando dados após fechar </h6> <p></p> <pre class=" language-javascript">                    <code class=" language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> Page<span class="token punctuation">,</span> PreparePage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@nimble-ts/core/page'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ExampleDialog <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'src/app/dialogs/example/example.dialog'</span><span class="token punctuation">;</span>

@<span class="token function">PreparePage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    template<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./example.page.html'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    style<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./example.page.scss'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ExamplePage</span> <span class="token keyword">extends</span> <span class="token class-name">Page</span> <span class="token punctuation">{</span>

    <span class="token function">constructor</span><span class="token punctuation">(</span>
        <span class="token parameter"><span class="token keyword">private</span> dialog<span class="token operator">:</span> DialogBuilder</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token function">openMyDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> dialogRef <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>dialog<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>ExampleDialog<span class="token punctuation">)</span><span class="token punctuation">;</span>
        dialogRef<span class="token punctuation">.</span>onClose<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>       
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
                    </code>
                </pre> </section> </section> </section> </div></nimble-page></nimble-router> </div> </div> </div></nimble-page></nimble-router> </div></nimble-page></nimble-root><script type="text/javascript" src="main.bundle.842626d79672916960ea.js"></script></body></html>